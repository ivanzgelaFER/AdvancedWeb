(function(e){function t(t){for(var n,o,s=t[0],a=t[1],u=t[2],l=0,p=[];l<s.length;l++)o=s[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,u||[]),c()}function c(){for(var e,t=0;t<i.length;t++){for(var c=i[t],n=!0,o=1;o<c.length;o++){var a=c[o];0!==r[a]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=c[0]))}return e}var n={},r={app:0},i=[];function o(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-2d0ddf93":"8177cced","chunk-91eb2748":"2e907fc5"}[e]+".js"}function s(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.e=function(e){var t=[],c=r[e];if(0!==c)if(c)t.push(c[2]);else{var n=new Promise((function(t,n){c=r[e]=[t,n]}));t.push(c[2]=n);var i,a=document.createElement("script");a.charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.src=o(e);var u=new Error;i=function(t){a.onerror=a.onload=null,clearTimeout(l);var c=r[e];if(0!==c){if(c){var n=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+i+")",u.name="ChunkLoadError",u.type=n,u.request=i,c[1](u)}r[e]=void 0}};var l=setTimeout((function(){i({type:"timeout",target:a})}),12e4);a.onerror=a.onload=i,document.head.appendChild(a)}return Promise.all(t)},s.m=e,s.c=n,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(c,n,function(t){return e[t]}.bind(null,n));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/",s.oe=function(e){throw console.error(e),e};var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var d=u;i.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d"),c("d3b7"),c("3ca3"),c("ddb0");var n=c("7a23"),r={key:0},i={class:"d-flex justify-content-between bg-light border border-bottom border-dark p-3"},o=Object(n["g"])("h1",null,"My cookbook (tag 7.0)",-1),s={class:"d-flex"},a={class:"nav d-flex ml-5"},u=Object(n["f"])("Recipes"),l=Object(n["f"])("Calculator"),d=Object(n["f"])("Disco!"),p={class:"ml-5"},b={key:1,class:"d-flex justify-content-center p-5"};function f(e,t,c,f,j,O){var g=Object(n["y"])("router-link"),m=Object(n["y"])("router-view"),h=Object(n["y"])("user-login");return O.isAuth?(Object(n["q"])(),Object(n["d"])("div",r,[Object(n["g"])("div",i,[o,Object(n["g"])("h2",s,[Object(n["g"])("div",a,[Object(n["g"])(g,{to:"/",class:"mr-3"},{default:Object(n["E"])((function(){return[u]})),_:1}),Object(n["g"])(g,{to:"/calculator",class:"mr-3"},{default:Object(n["E"])((function(){return[l]})),_:1}),Object(n["g"])(g,{to:"/disco",class:"mr-3"},{default:Object(n["E"])((function(){return[d]})),_:1})]),Object(n["g"])("div",p,Object(n["A"])(e.$store.getters.user),1)])]),Object(n["g"])(m)])):(Object(n["q"])(),Object(n["d"])("div",b,[Object(n["g"])(h,{class:"mt-5"})]))}var j=Object(n["g"])("h3",null,"Dear unknown user, please login",-1),O={class:"form-group row"},g=Object(n["g"])("label",{for:"celsius",class:"col-sm-4 col-form-label"},"Login",-1),m={class:"col-8"},h=Object(n["g"])("button",{class:"btn btn-success",type:"submit"},"Let me in!",-1);function v(e,t,c,r,i,o){var s=Object(n["y"])("small-card");return Object(n["q"])(),Object(n["d"])(s,null,{default:Object(n["E"])((function(){return[j,Object(n["g"])("form",{onSubmit:t[2]||(t[2]=Object(n["G"])((function(){return o.login&&o.login.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",O,[g,Object(n["g"])("div",m,[Object(n["F"])(Object(n["g"])("input",{class:"form-control",placeholder:"username","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.username=e})},null,512),[[n["C"],i.username,void 0,{trim:!0}]])])]),h],32)]})),_:1})}var y={data:function(){return{username:""}},methods:{login:function(){this.$store.commit("setUser",this.username)}}};y.render=v;var R=y,k={components:{UserLogin:R},computed:{isAuth:function(){return this.$store.getters.isAuth}}};c("5e76");k.render=f;var w=k,x=c("1da1"),C=(c("96cf"),c("7db0"),c("fb6a"),c("4de4"),c("d81d"),c("5502")),A=Object(C["a"])({state:{user:null,allRecipes:[]},mutations:{setUser:function(e,t){e.user=t},setRecipes:function(e,t){console.log("changing recipes from to",e.allRecipes,t),e.allRecipes=t}},getters:{user:function(e){return"ðŸ‘¥ ".concat(e.user)},isAuth:function(e){return!!e.user},allRecipes:function(e){return e.allRecipes||[]},getRecipeById:function(e,t){return function(e){return t.allRecipes.find((function(t){return t.id===e}))}}},actions:{refreshRecipes:function(e){return Object(x["a"])(regeneratorRuntime.mark((function t(){var c,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.getters.allRecipes.length){t.next=20;break}return console.log("fetching recipes..."),t.prev=2,t.next=5,fetch("http://127.0.0.1:8888/recipes");case 5:if(c=t.sent,!c.ok){t.next=14;break}return t.next=9,c.json();case 9:n=t.sent,n=n.slice(0,10),e.commit("setRecipes",n),t.next=15;break;case 14:throw new Error("HTTP-Error: "+c.status);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](2),console.error(t.t0);case 20:case"end":return t.stop()}}),t,null,[[2,17]])})))()},deleteRecipe:function(e,t){var c=t.id;console.log("deleting recipe ",c),e.commit("setRecipes",e.getters.allRecipes.filter((function(e){return e.id!==c})))},updateRecipe:function(e,t){console.log("updating recipe (actions)",t);var c=e.getters.allRecipes.map((function(e){return e.id==t.id?t:e}));e.commit("setRecipes",c)}},modules:{}}),q=c("6c02"),_={key:0},$=Object(n["g"])("br",null,null,-1),U={class:"d-flex justify-content-center"},E={key:1},F=Object(n["g"])("hr",null,null,-1),D={class:"container-fluid p-2 d-flex flex-wrap"};function P(e,t,c,r,i,o){var s=Object(n["y"])("recipe-card");return i.selectedRecipe?(Object(n["q"])(),Object(n["d"])("div",_,[Object(n["g"])("h2",null,"Recipe #"+Object(n["A"])(c.id),1),$,Object(n["g"])("div",U,[Object(n["g"])(s,{key:i.selectedRecipe.id,id:i.selectedRecipe.id,onRecipeUpdated:o.recipeUpdated,onRecipeDeleted:o.recipeDeleted,"can-edit":"true"},null,8,["id","onRecipeUpdated","onRecipeDeleted"])])])):(Object(n["q"])(),Object(n["d"])("div",E,[Object(n["g"])("h2",null,"All recipes ("+Object(n["A"])(e.$store.getters.allRecipes.length)+")",1),F,Object(n["g"])("div",D,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(o.allRecipes,(function(e){return Object(n["q"])(),Object(n["d"])(s,{key:e.id,id:e.id,onRecipeUpdated:o.recipeUpdated,onRecipeDeleted:o.recipeDeleted},null,8,["id","onRecipeUpdated","onRecipeDeleted"])})),128))])]))}c("99af"),c("c740");var S={props:["id"],data:function(){return{selectedRecipe:null,selectedRecipeIndex:-1}},computed:{allRecipes:function(){return this.$store.getters.allRecipes}},watch:{$route:function(e,t){var c=this;console.log("Route changed: ".concat(t.path," -> ").concat(e.path," ")),this.selectedRecipe=this.allRecipes.find((function(e){return e.id==c.$route.params.id})),this.selectedRecipeIndex=this.allRecipes.findIndex((function(e){return e.id==c.$route.params.id}))}},methods:{recipeUpdated:function(e){console.log("so now i know recipe is updated...",e)},recipeDeleted:function(e){this.selectedRecipe&&this.selectedRecipe.id===e.id&&(this.selectedRecipe=null)}},mounted:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("refreshRecipes");case 2:e.selectedRecipe=e.allRecipes.find((function(t){return t.id==e.$route.params.id}));case 3:case"end":return t.stop()}}),t)})))()}};S.render=P;var M=S,T=Object(n["g"])("h2",null,"Calculator",-1),I={class:"container-fluid p-2 d-flex justify-content-center"};function L(e,t){var c=Object(n["y"])("temp-converter");return Object(n["q"])(),Object(n["d"])("div",null,[T,Object(n["g"])("div",I,[Object(n["g"])(c)])])}const V={};V.render=L;var G=V,H=Object(n["f"])(" Try "),B=Object(n["f"])("home");function J(e,t){var c=Object(n["y"])("router-link");return Object(n["q"])(),Object(n["d"])(n["a"],null,[Object(n["g"])("h1",null,"Sorry, "+Object(n["A"])(e.$route.params.catchAll)+" is not found.",1),H,Object(n["g"])(c,{to:"/"},{default:Object(n["E"])((function(){return[B]})),_:1})],64)}const K={};K.render=J;var N=K,Y=Object(n["h"])((function(){return c.e("chunk-2d0ddf93").then(c.bind(null,"8456"))})),z=[{path:"/",component:M},{path:"/recipes/:id?",component:M,props:!0},{path:"/calculator",component:G},{path:"/disco",component:Y},{path:"/:catchAll(.*)",name:"NotFound",component:N}],Q=Object(q["a"])({history:Object(q["b"])("/"),routes:z}),W=Q,X=(c("b0c0"),c("a4d3"),c("e01a"),Object(n["H"])("data-v-11414fbd"));Object(n["t"])("data-v-11414fbd");var Z={class:"card-body"},ee={class:"card-title"},te={class:"card-text"},ce={class:"badge badge-primary"},ne={class:"badge badge-secondary"},re={class:"badge badge-success"},ie={class:"badge badge-success"},oe={key:0},se=Object(n["g"])("summary",null,[Object(n["g"])("h3",null,"Ingredients")],-1),ae={class:"list-group list-group-flush"},ue={key:1,class:"editForm"},le={class:"form-group"},de=Object(n["g"])("label",{for:"name"},"Name",-1),pe={class:"form-group"},be=Object(n["g"])("label",{for:"description"},"Description",-1),fe=Object(n["g"])("button",{class:"btn btn-success",type:"submit"},"Save",-1);Object(n["r"])();var je=X((function(e,t,c,r,i,o){var s=Object(n["y"])("router-link"),a=Object(n["y"])("small-card");return Object(n["q"])(),Object(n["d"])(n["a"],null,[i.editMode?Object(n["e"])("",!0):(Object(n["q"])(),Object(n["d"])(a,{key:0},{default:X((function(){return[Object(n["g"])(s,{to:"/recipes/"+c.id,class:"mr-3"},{default:X((function(){return[Object(n["g"])("img",{class:"card-img-top",style:{width:"190px"},src:i.recipe.image},null,8,["src"])]})),_:1},8,["to"]),Object(n["g"])("div",Z,[Object(n["g"])("h5",ee,Object(n["A"])(i.recipe.name),1),Object(n["g"])("p",te,Object(n["A"])(i.recipe.description),1),Object(n["g"])("span",ce," Cook/prep time: "+Object(n["A"])(i.recipe.cookTime)+"/"+Object(n["A"])(i.recipe.prepTime),1),Object(n["g"])("span",ne,"Yield: "+Object(n["A"])(i.recipe.recipeYield),1),Object(n["g"])("span",re,"Pusblished: "+Object(n["A"])(i.recipe.datePublished),1),Object(n["g"])("a",{href:i.recipe.url,target:"_blank",class:"card-link"},[Object(n["g"])("span",ie,Object(n["A"])(i.recipe.url.substring(0,20))+"...",1)],8,["href"])]),i.recipe.ingredients?(Object(n["q"])(),Object(n["d"])("details",oe,[se,Object(n["g"])("ul",ae,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(i.recipe.ingredients,(function(e){return Object(n["q"])(),Object(n["d"])("li",{key:e,class:"list-group-item"},Object(n["A"])(e),1)})),128))])])):Object(n["e"])("",!0),Object(n["g"])("button",{class:"btn btn-danger",onClick:t[1]||(t[1]=function(){return o.deleteRecipe&&o.deleteRecipe.apply(o,arguments)})},"Delete"),c.canEdit?(Object(n["q"])(),Object(n["d"])("button",{key:1,class:"btn btn-primary",onClick:t[2]||(t[2]=function(e){return i.editMode=!0})},"Edit")):Object(n["e"])("",!0)]})),_:1})),i.editMode?(Object(n["q"])(),Object(n["d"])("div",ue,[Object(n["g"])("form",{onSubmit:t[6]||(t[6]=Object(n["G"])((function(){return o.submitChanges&&o.submitChanges.apply(o,arguments)}),["prevent"]))},[Object(n["g"])("div",le,[de,Object(n["F"])(Object(n["g"])("input",{type:"text",class:"form-control",id:"name",placeholder:"name","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.recipe.name=e})},null,512),[[n["C"],i.recipe.name]])]),Object(n["g"])("div",pe,[be,Object(n["F"])(Object(n["g"])("textarea",{class:"form-control",id:"description",rows:"3","onUpdate:modelValue":t[4]||(t[4]=function(e){return i.recipe.description=e})},null,512),[[n["C"],i.recipe.description]])]),fe,Object(n["g"])("button",{class:"btn btn-warning",onClick:t[5]||(t[5]=Object(n["G"])((function(e){return o.exitSingleRecipe()}),["stop"]))},"Cancel")],32)])):Object(n["e"])("",!0)],64)})),Oe=c("5530"),ge={emits:["recipeDeleted","recipeUpdated"],props:["id","canEdit"],data:function(){return{editMode:!1,recipe:{url:""}}},methods:{deleteRecipe:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("deleteRecipe",{id:e.id});case 2:e.$emit("recipeDeleted",{id:e.id});case 3:case"end":return t.stop()}}),t)})))()},exitSingleRecipe:function(){this.$router.push({path:"/recipes"})},submitChanges:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("submitting changes"),t.next=3,e.$store.dispatch("updateRecipe",e.recipe);case 3:e.$emit("recipeUpdated",e.recipe),e.exitSingleRecipe();case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(x["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Oe["a"],t.t1={},t.next=4,e.$store.getters.getRecipeById(e.id);case 4:t.t2=t.sent,e.recipe=(0,t.t0)(t.t1,t.t2);case 6:case"end":return t.stop()}}),t)})))()}};c("5eba");ge.render=je,ge.__scopeId="data-v-11414fbd";var me=ge,he=Object(n["g"])("h3",null,"Temperature converter",-1),ve={class:"form-group row"},ye=Object(n["g"])("label",{for:"celsius",class:"col-sm-4 col-form-label"},"Celsius",-1),Re={class:"col-8"},ke={class:"form-group row"},we=Object(n["g"])("label",{for:"fahrenheit",class:"col-4 col-form-label"},"Fahrenheit",-1),xe={class:"col-8"};function Ce(e,t,c,r,i,o){var s=Object(n["y"])("small-card");return Object(n["q"])(),Object(n["d"])(s,null,{default:Object(n["E"])((function(){return[he,Object(n["g"])("form",null,[Object(n["g"])("div",ve,[ye,Object(n["g"])("div",Re,[Object(n["F"])(Object(n["g"])("input",{type:"number",class:"form-control",placeholder:"C","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.tempCelsius=e}),onKeyup:t[2]||(t[2]=function(){return o.c2f&&o.c2f.apply(o,arguments)})},null,544),[[n["C"],i.tempCelsius,void 0,{number:!0}]])])]),Object(n["g"])("div",ke,[we,Object(n["g"])("div",xe,[Object(n["F"])(Object(n["g"])("input",{type:"number",class:"form-control",placeholder:"F","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.tempFahrenheit=e}),onKeyup:t[4]||(t[4]=function(){return o.f2c&&o.f2c.apply(o,arguments)})},null,544),[[n["C"],i.tempFahrenheit,void 0,{number:!0}]])])])])]})),_:1})}var Ae={data:function(){return{tempCelsius:0,tempFahrenheit:32}},methods:{c2f:function(){this.tempFahrenheit=Math.round(9*this.tempCelsius/5+32)},f2c:function(){this.tempCelsius=Math.round(5*(this.tempFahrenheit-32)/9)}}};Ae.render=Ce;var qe=Ae,_e=Object(n["H"])("data-v-07a1a94e"),$e=_e((function(e,t){return Object(n["q"])(),Object(n["d"])("div",null,[Object(n["x"])(e.$slots,"default",{},void 0,!0)])}));c("b996");const Ue={};Ue.render=$e,Ue.__scopeId="data-v-07a1a94e";var Ee=Ue,Fe=Object(n["h"])((function(){return c.e("chunk-91eb2748").then(c.bind(null,"952b"))})),De=Object(n["c"])(w);De.use(A),De.use(W),De.component("recipe-card",me),De.component("temp-converter",qe),De.component("small-card",Ee),De.component("disco-component",Fe),De.mount("#app")},"5e76":function(e,t,c){"use strict";c("8c8c")},"5eba":function(e,t,c){"use strict";c("f2cb")},"8c8c":function(e,t,c){},b996:function(e,t,c){"use strict";c("f498")},f2cb:function(e,t,c){},f498:function(e,t,c){}});
//# sourceMappingURL=app.a448ee5c.js.map